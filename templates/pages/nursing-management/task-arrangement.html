{% extends 'base.html' %}
{% block title %}任务安排{% endblock title %}
{% block content%}
<style>
    table {
        table-layout: fixed;
        word-break: break-all;
        word-wrap: break-word;
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
        background-color: #FEFEFF;
        border-radius: 20px;
    }

    td {
        text-align: center;
        font-size: 20px;
    }

    th, td {
        border: 1px solid #eef1fe;
        text-align: center;
        padding: 5px;
    }

    th {
        text-align: center;
        font-size: 20px;
    }

    #prevMonth, #nextMonth {
        background: none;
        border: 1px solid transparent;
        padding: 5px 10px;
        margin: 0 5px;
        cursor: pointer;
        float: right;
    }


    #monthYear {
        flex: 1;
        text-align: center;
        font-size: 20px;
    }

    #name {
        float: right;
        font-size: 15px;
        margin-right: 20px;
    }

</style>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const prevMonthBtn = document.getElementById('prevMonth');
        const nextMonthBtn = document.getElementById('nextMonth');
        const monthYearSpan = document.getElementById('monthYear');

        let currentDate = new Date();

        function updateMonthYear() {
            monthYearSpan.textContent = currentDate.toLocaleDateString('zh-cn', {month: 'long', year: 'numeric'});
        }

        prevMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            updateMonthYear();
        });

        nextMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            updateMonthYear();
        });
        updateMonthYear();
    });

</script>
<div class="content-wrapper">
    <div style="display:flex; margin-bottom: 15px">
        <div style="font-size: 25px">任务安排</div>
        <button id="prevMonth">&lt;</button>
        <span id="monthYear"></span>
        <button id="nextMonth">&gt;</button>
        <select id="name" style="width: 100px">
            <option>张三</option>
            <option>李四</option>
            <option>王五</option>
        </select>
    </div>
    <table id="task">
        <thead>
        <tr>
            <th></th>
            <th>周一</th>
            <th>周二</th>
            <th>周三</th>
            <th>周四</th>
            <th>周五</th>
            <th>周六</th>
            <th>周日</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>
    <script>
        $(document).ready(function () {
            var tableBody = $('#task tbody');
            for (var i = 0; i < 24; i++) {
                var time = i.toString().padStart(2, '0') + ':00'; // 格式化时间
                var row = $('<tr>');
                $('<td>').text(time).appendTo(row); // 添加时间到第一列
                for (var j = 0; j < 7; j++) {
                    $('<td>').text('').appendTo(row); // 添加空白单元格
                }
                row.appendTo(tableBody);
            }
        });
    </script>
</div>
{% endblock %}